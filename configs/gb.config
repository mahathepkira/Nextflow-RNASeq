process {
  executor = 'slurm'
  queue = 'memory'
  cache = 'lenient'

  withName: TrimmmomaticParied {
    module = 'Trimmomatic/0.38-Java-1.8'
    cpus = 4
    memory = '8 GB'
  }

  withName: TrimmmomaticSingle {
    module = 'Trimmomatic/0.38-Java-1.8'
    cpus = 4
    memory = '8 GB'
  }

  withName: FastpForParied {
    beforeScript = 'export PATH=$HOME/tools:$PATH'
    cpus = 4
    memory = '8 GB'
  }

  withName: FastpForSingle {
    beforeScript = 'export PATH=$HOME/tools:$PATH'
    cpus = 4
    memory = '8 GB'
  }

  withName: FastqcForPairedAfter {
    module = 'FastQC/0.11.9-Java-11'
    cpus = 4
    memory = '8 GB'
  } 

  withName: FastqcForPairedBefore {
    module = 'FastQC/0.11.9-Java-11'
    cpus = 4
    memory = '8 GB'
  }

  withName: FastqcForSingleAfter {
    module = 'FastQC/0.11.9-Java-11'
    cpus = 4
    memory = '8 GB'
  }

  withName: FastqcForSingleBefore {
    module = 'FastQC/0.11.9-Java-11'
    cpus = 4
    memory = '8 GB'
  }

  withName: STAR_INDEX {
    //module = '/nbt_main/home/lattapol/tools/STAR-2.7.11b/STAR/source'
    beforeScript = 'export PATH=$HOME/tools/STAR-2.7.11b/STAR/source:$PATH'
    cpus = 8
    memory = '64 GB'
  }

  withName: STARForPaired {
    //module = '/nbt_main/home/lattapol/tools/STAR-2.7.11b/STAR/source'
    beforeScript = 'export PATH=$HOME/tools/STAR-2.7.11b/STAR/source:$PATH'
    cpus = 8
    memory = '64 GB'
  }

  withName: STARForSingle {
    //module = '/nbt_main/home/lattapol/tools/STAR-2.7.11b/STAR/source'
    beforeScript = 'export PATH=$HOME/tools/STAR-2.7.11b/STAR/source:$PATH'
    cpus = 8
    memory = '64 GB'
  }

  withName: RSEM_INDEX {
    //module = '/nbt_main/home/lattapol/tools/RSEM-1.3.3'
    beforeScript = 'export PATH=$HOME/tools/RSEM-1.3.3:$PATH'
    cpus = 8
    memory = '64 GB'
  }

  withName: RSEMForPaired {
    //module = '/nbt_main/home/lattapol/tools/RSEM-1.3.3'
    beforeScript = 'export PATH=$HOME/tools/RSEM-1.3.3:$PATH'
    cpus = 8
    memory = '64 GB'
  }

  withName: RSEMForSingle {
    beforeScript = 'export PATH=$HOME/tools/RSEM-1.3.3:$PATH'
    cpus = 8
    memory = '64 GB'
  }

  withName: Qualimap {
  container = '/nbt_main/share/singularity/qualimap:2.3--hdfd78af_0'
  cpus = 4
  memory = '8 GB'
  } 

  withName: MergeRSEMResultsIso {
    module = 'Python/3.10.4-GCCcore-11.3.0'
    cpus = 4
    memory = '8 GB'
  }

  withName: MergeRSEMResultsGenes {
    module = 'Python/3.10.4-GCCcore-11.3.0'
    cpus = 4
    memory = '8 GB'
  }

}

singularity {
    enabled = true
    autoMounts = true
}
